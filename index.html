<html> 
	<head> 	
	<title>#DEMOCRACY Frame</title>
	<link rel="stylesheet" href="styles.css"> 	
	<style> 	
		#userImage, 
		#blendImage {
			display: none; 	
		}
	</style> 

	</head> 
	<body>
		<div  class="main-block">
			<h1>#DEMOCRACY Frame</h1>
			<hr>Click on "Choose File", click "Add Frame", and then right-click on the image -> "Save as".</hr>
			<p> <br> </p>
			<input type="file" id="inputImage" onchange="uploadImage()"> 	
			<img id="userImage" src="#">
			<img id="blendImage" src="frame_tight.png">
			<output>
			<canvas id="canvas" class="image"></canvas>
			</output>
			<br>
			<button onclick="blendImage()">Add Frame</button>
		</div>
	<script> 		
	function uploadImage() {
		var input = document.getElementById("inputImage");
 		var img = document.getElementById("userImage");
		var canvas = document.getElementById("canvas");
		var context = canvas.getContext("2d");
 		img.src = URL.createObjectURL(input.files[0]);
		img.onload = function () {
			canvas.width = Math.min(img.width,img.height);
			canvas.height = Math.min(img.width,img.height);
			context.drawImage(img, 0, 0, canvas.width, canvas.height,0, 0, canvas.width, canvas.height);
		}
	}
	function blendImage() {
  		var userImage = document.getElementById("userImage");
  		var blendImage = document.getElementById("blendImage");
  		var canvas = document.getElementById("canvas");
  		var context = canvas.getContext("2d");
		context.clearRect(0, 0, canvas.width, canvas.height);
		canvas.width = Math.min(userImage.width,userImage.height);
		canvas.height = Math.min(userImage.width,userImage.height);
		context.drawImage(userImage, 0, 0, canvas.width, canvas.height,0, 0, canvas.width, canvas.height);
		context.globalCompositeOperation = "source-atop";
		context.drawImage(blendImage, 0, 0, canvas.width, canvas.height);
	} 	
	</script> 		
	</body> 
</html>